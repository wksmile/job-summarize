<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<div id="page">
    <div class="content main">
        <div class="refer">
            <ul>
                <li>test1</li>
                <li class="hahaha">test2</li>
            </ul>
        </div>
    </div>
</div>
<script>
  var genCssSelector = function(target){
    // your code here
    var root = document.body,
      result = 'html';

    function getTagName(node){
      // 'string'   node.tagName.toLowerCase() node.classList
      var tagName = '',id = node.id,classList = node.classList;
      if(id) {
        id=' #'+id
      }
      if(classList.length){
        classList = [].map.call(classList,function(className){
          return '.'+className
        })
        classList = classList.join('')+' '
      }
      if(!id && !classList.length){
        tagName=node.tagName.toLowerCase()+' '
      }
      return  tagName+id+' '+classList
    }

    while(root !== target && Array.from(root.children).indexOf(target)<0){
        root = root.firstElementChild
      result += getTagName(root)
    }
    result += getTagName(target)
    return result
  }
  document.addEventListener('click', function(e){
    //点击li时，返回：html body #page .content.main .refer ul li
    console.log(e.target)
    console.log(genCssSelector(e.target));
  })
</script>
</body>
</html>