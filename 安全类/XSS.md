# XSS
- 基本概念缩写：cross-site scripting跨域脚本攻击

- 攻击原理,防御措施： http://www.imooc.com/learn/812

- 对比CSRF和XSS的区别?
    + xss：用户过分信任网站，放任来自浏览器地址栏代表的那个网站代码在自己本地任意执行。如果没有浏览器的安全机制限制，xss代码可以在用户浏览器为所欲为； 
    + csrf：网站过分信任用户，放任来自所谓通过访问控制机制的代表合法用户的请求执行网站的某个特定功能。
    
- 防御措施:
    + 设置HttpOnly头，不允许js操作cookies
    + secure请求头，告诉浏览器仅在请求为https的时候发送cookie
    + 在表单提交或者url参数传递前,在代码输出前，对需要的参数进行过滤
    + 编码转义HTMLEncode，会对一些html的特殊字符进行实体化
    + 针对`& < > " , \ /`字符进行实体化转义`&amp; &lt; &gt; &quot; &#x27; &#x2F`
    + 如果是字符串操作，保证字符串被引号包裹。不能使用eval ，new fuction，settimeout执行动态字符串，因为这个字符串很可能就是一个xss代码，如果无法避免，那么也要转义之后再参与运算。

**XSS类型**：
1. 存储型XSS: 前端提交的数据未经处理存储到数据库中，当用户请求数据，存在XSS攻击的数据，返回给客户端。若数据未经过任何转义。被浏览器渲染。就可能导致XSS攻击；
2. 反射型XSS: 将用户输入的存在XSS攻击的数据，发送给后台，后台并未对数据进行存储，也未经过任何过滤，直接返回给客户端。被浏览器渲染。就可能导致XSS攻击；
3. DOM-XSS: 渲染DOM属性时将攻击脚本插入DOM属性中被解析而导致的。纯前端攻击，没有后端参与。
